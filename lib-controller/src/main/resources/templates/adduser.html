<!DOCTYPE HTML>
<html xmlns:th="http://thymeleaf.org" lang="en">
<head>
<title>Add user</title>
<link href="../css/styles.css" rel="stylesheet" />
<link href="../css/bootstrap.min.css" rel="stylesheet">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>

<body>
	<h1>Create a User:</h1>
	<br />
	<form th:action="@{adduser}" th:object="${dto}" method="POST">

		<div class="col-sm-4">
			<div class="form-group">
				<label>Email</label> <input type="text" pattern="[^@]+@[^@]+\.[a-zA-Z]{2,6}" th:field="*{email}"
					class="form-control input-sm" required />
			</div>
		</div>

		<div class="col-sm-4">
			<div class="form-group">
				<label>Name</label> <input type="text" th:field="*{username}"
					class="form-control input-sm" required />
			</div>
		</div>

		<div class="col-sm-4">
			<div class="form-group">
				<label>Department</label> <select th:object="${departmentdto}"
					th:field="*{name}">
					<option th:each="department : ${departmentsList}"
						th:value="${department.name}" th:text="${department.name}"></option>
				</select> <br />
			</div>
		</div>

		<div class="col-sm-4">
			<div class="form-group">
				<label>Password</label> <input name="password" type="password"
					id="password" th:field="*{password}" class="form-control input-sm"
					required />
			</div>
		</div>

		<div class="col-sm-4">
			<div class="form-group">
				<label>Confirm Password</label> <input name="confirm_password"
					type="password" id="confirm_password" class="form-control input-sm"
					required /> <span id='message'></span>
			</div>
		</div>

		<div class="col-sm-4">
			<input type="submit" value="Create" /> <input type="reset"
				value="Reset">
		</div>
	</form>
</body>
<script>
	$('#password, #confirm_password').on('keyup', function() {
		if ($('#password').val() == $('#confirm_password').val()) {
			$('#message').html('Matching').css('color', 'green');
		} else
			$('#message').html('Not Matching').css('color', 'red');
	});
</script>
<a href="javascript:history.back()">Go back</a>
</html>